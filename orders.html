<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Orders - Shopora</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Jockey+One&display=swap" rel="stylesheet" />
</head>
<body>
  <div class="flex-container">
    <div class="logo">
      <img src="images/logo.png" alt="Shopora Logo" />
      <span class="logo-text">Shopora</span>
    </div>
    <div class="navlinks">
      <a href="index.html">Home</a>
      <a href="cart.html">Cart</a>
      <a href="wishlist.html">Wishlist</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact Us</a>
      <a href="orders.html" class="active">Orders</a>
      <a href="login.html">Login</a>
      <a href="register.html">Register</a>
    </div>
  </div>

  <main class="cart-container">
    <h2 class="section-heading">Your Recent Order</h2>
    <div class="section-divider"></div>

    <div id="orders-list"></div>
    <p id="order-total" style="text-align: right; font-size: 1.1rem; margin-top: 20px;"></p>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const orderData = JSON.parse(sessionStorage.getItem('lastOrder')) || [];
      const list = document.getElementById('orders-list');
      const totalEl = document.getElementById('order-total');

      list.innerHTML = '';
      totalEl.innerHTML = '';

      if (orderData.length === 0) {
        list.innerHTML = '<p>Your order history is empty. Go shop something!</p>';
        return;
      }

      let total = 0;

      orderData.forEach(product => {
        total += product.price;

        const div = document.createElement('div');
        div.className = 'cart-item'; // reusing cart layout
        div.innerHTML = `
          <img src="${product.image}" alt="${product.name}" width="100" height="100">
          <div class="cart-item-details">
            <h3>${product.name}</h3>
            <p>${product.description}</p>
            <p><strong>₹${product.price.toFixed(2)}</strong></p>
          </div>
        `;

        list.appendChild(div);
      });

      totalEl.innerHTML = `<strong>Total Paid: ₹${total.toFixed(2)}</strong>`;
    });
  </script>
</body>
</html>
